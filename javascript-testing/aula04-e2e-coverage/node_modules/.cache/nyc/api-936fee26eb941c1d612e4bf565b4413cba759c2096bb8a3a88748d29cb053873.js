function cov_2050288to1(){var path="/home/eduardo/jsExpert/javascript-testing/aula04-e2e-coverage/src/api.js";var hash="4c090dda2ebb4d5a28622b0ae900d1ca27106eb5";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/eduardo/jsExpert/javascript-testing/aula04-e2e-coverage/src/api.js",statementMap:{"0":{start:{line:1,column:17},end:{line:1,column:34}},"1":{start:{line:2,column:13},end:{line:2,column:28}},"2":{start:{line:4,column:21},end:{line:7,column:1}},"3":{start:{line:9,column:15},end:{line:36,column:1}},"4":{start:{line:11,column:4},end:{line:11,column:37}},"5":{start:{line:12,column:4},end:{line:12,column:25}},"6":{start:{line:23,column:17},end:{line:23,column:56}},"7":{start:{line:24,column:20},end:{line:24,column:48}},"8":{start:{line:24,column:30},end:{line:24,column:48}},"9":{start:{line:25,column:4},end:{line:29,column:5}},"10":{start:{line:26,column:6},end:{line:26,column:31}},"11":{start:{line:27,column:6},end:{line:27,column:37}},"12":{start:{line:28,column:6},end:{line:28,column:12}},"13":{start:{line:30,column:4},end:{line:30,column:43}},"14":{start:{line:33,column:4},end:{line:33,column:29}},"15":{start:{line:34,column:4},end:{line:34,column:37}},"16":{start:{line:39,column:26},end:{line:39,column:33}},"17":{start:{line:40,column:20},end:{line:40,column:66}},"18":{start:{line:41,column:17},end:{line:41,column:52}},"19":{start:{line:42,column:2},end:{line:42,column:34}},"20":{start:{line:45,column:12},end:{line:45,column:89}},"21":{start:{line:45,column:58},end:{line:45,column:88}},"22":{start:{line:47,column:0},end:{line:47,column:20}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:10,column:18},end:{line:10,column:19}},loc:{start:{line:10,column:41},end:{line:13,column:3}},line:10},"1":{name:"(anonymous_1)",decl:{start:{line:22,column:17},end:{line:22,column:18}},loc:{start:{line:22,column:46},end:{line:31,column:3}},line:22},"2":{name:"(anonymous_2)",decl:{start:{line:24,column:20},end:{line:24,column:21}},loc:{start:{line:24,column:30},end:{line:24,column:48}},line:24},"3":{name:"(anonymous_3)",decl:{start:{line:32,column:2},end:{line:32,column:3}},loc:{start:{line:32,column:31},end:{line:35,column:3}},line:32},"4":{name:"handler",decl:{start:{line:38,column:9},end:{line:38,column:16}},loc:{start:{line:38,column:36},end:{line:43,column:1}},line:38},"5":{name:"(anonymous_5)",decl:{start:{line:45,column:52},end:{line:45,column:53}},loc:{start:{line:45,column:58},end:{line:45,column:88}},line:45}},branchMap:{"0":{loc:{start:{line:25,column:4},end:{line:29,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:29,column:5}},{start:{line:25,column:4},end:{line:29,column:5}}],line:25},"1":{loc:{start:{line:25,column:8},end:{line:25,column:126}},type:"binary-expr",locations:[{start:{line:25,column:8},end:{line:25,column:65}},{start:{line:25,column:69},end:{line:25,column:126}}],line:25},"2":{loc:{start:{line:41,column:17},end:{line:41,column:52}},type:"binary-expr",locations:[{start:{line:41,column:17},end:{line:41,column:34}},{start:{line:41,column:38},end:{line:41,column:52}}],line:41}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4c090dda2ebb4d5a28622b0ae900d1ca27106eb5"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2050288to1=function(){return actualCoverage;};}return actualCoverage;}cov_2050288to1();const{once}=(cov_2050288to1().s[0]++,require('events'));const http=(cov_2050288to1().s[1]++,require('http'));const DEFAULT_USER=(cov_2050288to1().s[2]++,{username:'John Doe',password:'password'});const routes=(cov_2050288to1().s[3]++,{'/contact:get':(request,response)=>{cov_2050288to1().f[0]++;cov_2050288to1().s[4]++;response.write('contact us page');cov_2050288to1().s[5]++;return response.end();},/**
   * * to call this method you need run in your terminal the line below
   * ! this will pass
   * ? curl -i -X POST --data '{"username": "John Doe", "password": "password"}' localhost:3000/login
   * ! this wont pass
   * ? curl -i -X POST --data '{"username": "John Doe", "password": "password2"}' localhost:3000/login
   */'/login:post':async(request,response)=>{cov_2050288to1().f[1]++;const user=(cov_2050288to1().s[6]++,JSON.parse(await once(request,'data')));cov_2050288to1().s[7]++;const toLower=text=>{cov_2050288to1().f[2]++;cov_2050288to1().s[8]++;return text.toLowerCase();};cov_2050288to1().s[9]++;if((cov_2050288to1().b[1][0]++,toLower(user.username)!==toLower(DEFAULT_USER.username))||(cov_2050288to1().b[1][1]++,toLower(user.password)!==toLower(DEFAULT_USER.password))){cov_2050288to1().b[0][0]++;cov_2050288to1().s[10]++;response.writeHeader(401);cov_2050288to1().s[11]++;response.end('Logging failed!');cov_2050288to1().s[12]++;return;}else{cov_2050288to1().b[0][1]++;}cov_2050288to1().s[13]++;return response.end('Log in succeeded');},default(request,response){cov_2050288to1().f[3]++;cov_2050288to1().s[14]++;response.writeHeader(404);cov_2050288to1().s[15]++;return response.end('not found!');}});function handler(request,response){cov_2050288to1().f[4]++;const{url,method}=(cov_2050288to1().s[16]++,request);const routerKey=(cov_2050288to1().s[17]++,`${url.toLowerCase()}:${method.toLowerCase()}`);const chosen=(cov_2050288to1().s[18]++,(cov_2050288to1().b[2][0]++,routes[routerKey])||(cov_2050288to1().b[2][1]++,routes.default));cov_2050288to1().s[19]++;return chosen(request,response);}const app=(cov_2050288to1().s[20]++,http.createServer(handler).listen(3000,()=>{cov_2050288to1().f[5]++;cov_2050288to1().s[21]++;return console.log('running at 3000');}));cov_2050288to1().s[22]++;module.exports=app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjA1MDI4OHRvMSIsImFjdHVhbENvdmVyYWdlIiwib25jZSIsInMiLCJyZXF1aXJlIiwiaHR0cCIsIkRFRkFVTFRfVVNFUiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJyb3V0ZXMiLCIvY29udGFjdDpnZXQiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJmIiwid3JpdGUiLCJlbmQiLCIvbG9naW46cG9zdCIsInVzZXIiLCJKU09OIiwicGFyc2UiLCJ0b0xvd2VyIiwidGV4dCIsInRvTG93ZXJDYXNlIiwiYiIsIndyaXRlSGVhZGVyIiwiZGVmYXVsdCIsImhhbmRsZXIiLCJ1cmwiLCJtZXRob2QiLCJyb3V0ZXJLZXkiLCJjaG9zZW4iLCJhcHAiLCJjcmVhdGVTZXJ2ZXIiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImFwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IG9uY2UgfSA9IHJlcXVpcmUoJ2V2ZW50cycpXG5jb25zdCBodHRwID0gcmVxdWlyZSgnaHR0cCcpXG5cbmNvbnN0IERFRkFVTFRfVVNFUiA9IHtcbiAgdXNlcm5hbWU6ICdKb2huIERvZScsXG4gIHBhc3N3b3JkOiAncGFzc3dvcmQnXG59XG5cbmNvbnN0IHJvdXRlcyA9IHtcbiAgJy9jb250YWN0OmdldCc6IChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuICAgIHJlc3BvbnNlLndyaXRlKCdjb250YWN0IHVzIHBhZ2UnKVxuICAgIHJldHVybiByZXNwb25zZS5lbmQoKVxuICB9LFxuXG4gIC8qKlxuICAgKiAqIHRvIGNhbGwgdGhpcyBtZXRob2QgeW91IG5lZWQgcnVuIGluIHlvdXIgdGVybWluYWwgdGhlIGxpbmUgYmVsb3dcbiAgICogISB0aGlzIHdpbGwgcGFzc1xuICAgKiA/IGN1cmwgLWkgLVggUE9TVCAtLWRhdGEgJ3tcInVzZXJuYW1lXCI6IFwiSm9obiBEb2VcIiwgXCJwYXNzd29yZFwiOiBcInBhc3N3b3JkXCJ9JyBsb2NhbGhvc3Q6MzAwMC9sb2dpblxuICAgKiAhIHRoaXMgd29udCBwYXNzXG4gICAqID8gY3VybCAtaSAtWCBQT1NUIC0tZGF0YSAne1widXNlcm5hbWVcIjogXCJKb2huIERvZVwiLCBcInBhc3N3b3JkXCI6IFwicGFzc3dvcmQyXCJ9JyBsb2NhbGhvc3Q6MzAwMC9sb2dpblxuICAgKi9cbiAgJy9sb2dpbjpwb3N0JzogYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IEpTT04ucGFyc2UoYXdhaXQgb25jZShyZXF1ZXN0LCAnZGF0YScpKVxuICAgIGNvbnN0IHRvTG93ZXIgPSAodGV4dCkgPT4gdGV4dC50b0xvd2VyQ2FzZSgpIFxuICAgIGlmICh0b0xvd2VyKHVzZXIudXNlcm5hbWUpICE9PSB0b0xvd2VyKERFRkFVTFRfVVNFUi51c2VybmFtZSkgfHwgdG9Mb3dlcih1c2VyLnBhc3N3b3JkKSAhPT0gdG9Mb3dlcihERUZBVUxUX1VTRVIucGFzc3dvcmQpKSB7XG4gICAgICByZXNwb25zZS53cml0ZUhlYWRlcig0MDEpXG4gICAgICByZXNwb25zZS5lbmQoJ0xvZ2dpbmcgZmFpbGVkIScpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlLmVuZCgnTG9nIGluIHN1Y2NlZWRlZCcpXG4gIH0sXG4gIGRlZmF1bHQoIHJlcXVlc3QsIHJlc3BvbnNlICkge1xuICAgIHJlc3BvbnNlLndyaXRlSGVhZGVyKDQwNClcbiAgICByZXR1cm4gcmVzcG9uc2UuZW5kKCdub3QgZm91bmQhJylcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVyKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIGNvbnN0IHsgdXJsLCBtZXRob2QgfSA9IHJlcXVlc3RcbiAgY29uc3Qgcm91dGVyS2V5ID0gYCR7dXJsLnRvTG93ZXJDYXNlKCl9OiR7bWV0aG9kLnRvTG93ZXJDYXNlKCl9YFxuICBjb25zdCBjaG9zZW4gPSByb3V0ZXNbcm91dGVyS2V5XSB8fCByb3V0ZXMuZGVmYXVsdFxuICByZXR1cm4gY2hvc2VuKHJlcXVlc3QsIHJlc3BvbnNlKVxufVxuXG5jb25zdCBhcHAgPSBodHRwLmNyZWF0ZVNlcnZlcihoYW5kbGVyKS5saXN0ZW4oMzAwMCwgKCkgPT4gY29uc29sZS5sb2coJ3J1bm5pbmcgYXQgMzAwMCcpKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFwcCJdLCJtYXBwaW5ncyI6InNoSEFlWTtBQUFBQSxjQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGNBQUEsR0FmWixLQUFNLENBQUVFLElBQUssQ0FBQyxFQUFBRixjQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLFFBQVEsQ0FBQyxFQUNsQyxLQUFNLENBQUFDLElBQUksRUFBQUwsY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFFNUIsS0FBTSxDQUFBRSxZQUFZLEVBQUFOLGNBQUEsR0FBQUcsQ0FBQSxNQUFHLENBQ25CSSxRQUFRLENBQUUsVUFBVSxDQUNwQkMsUUFBUSxDQUFFLFVBQ1osQ0FBQyxFQUVELEtBQU0sQ0FBQUMsTUFBTSxFQUFBVCxjQUFBLEdBQUFHLENBQUEsTUFBRyxDQUNiLGNBQWMsQ0FBRU8sQ0FBQ0MsT0FBTyxDQUFFQyxRQUFRLEdBQUssQ0FBQVosY0FBQSxHQUFBYSxDQUFBLE1BQUFiLGNBQUEsR0FBQUcsQ0FBQSxNQUNyQ1MsUUFBUSxDQUFDRSxLQUFLLENBQUMsaUJBQWlCLENBQUMsQ0FBQWQsY0FBQSxHQUFBRyxDQUFBLE1BQ2pDLE1BQU8sQ0FBQVMsUUFBUSxDQUFDRyxHQUFHLENBQUMsQ0FBQyxDQUN2QixDQUFDLENBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FDRSxhQUFhLENBQUUsS0FBQUMsQ0FBT0wsT0FBTyxDQUFFQyxRQUFRLEdBQUssQ0FBQVosY0FBQSxHQUFBYSxDQUFBLE1BQzFDLEtBQU0sQ0FBQUksSUFBSSxFQUFBakIsY0FBQSxHQUFBRyxDQUFBLE1BQUdlLElBQUksQ0FBQ0MsS0FBSyxDQUFDLEtBQU0sQ0FBQWpCLElBQUksQ0FBQ1MsT0FBTyxDQUFFLE1BQU0sQ0FBQyxDQUFDLEVBQUFYLGNBQUEsR0FBQUcsQ0FBQSxNQUNwRCxLQUFNLENBQUFpQixPQUFPLENBQUlDLElBQUksRUFBSyxDQUFBckIsY0FBQSxHQUFBYSxDQUFBLE1BQUFiLGNBQUEsR0FBQUcsQ0FBQSxhQUFBa0IsSUFBSSxDQUFDQyxXQUFXLENBQUMsQ0FBQyxDQUFELENBQUMsQ0FBQXRCLGNBQUEsR0FBQUcsQ0FBQSxNQUM1QyxHQUFJLENBQUFILGNBQUEsR0FBQXVCLENBQUEsU0FBQUgsT0FBTyxDQUFDSCxJQUFJLENBQUNWLFFBQVEsQ0FBQyxHQUFLYSxPQUFPLENBQUNkLFlBQVksQ0FBQ0MsUUFBUSxDQUFDLElBQUFQLGNBQUEsR0FBQXVCLENBQUEsU0FBSUgsT0FBTyxDQUFDSCxJQUFJLENBQUNULFFBQVEsQ0FBQyxHQUFLWSxPQUFPLENBQUNkLFlBQVksQ0FBQ0UsUUFBUSxDQUFDLEVBQUUsQ0FBQVIsY0FBQSxHQUFBdUIsQ0FBQSxTQUFBdkIsY0FBQSxHQUFBRyxDQUFBLE9BQzFIUyxRQUFRLENBQUNZLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQXhCLGNBQUEsR0FBQUcsQ0FBQSxPQUN6QlMsUUFBUSxDQUFDRyxHQUFHLENBQUMsaUJBQWlCLENBQUMsQ0FBQWYsY0FBQSxHQUFBRyxDQUFBLE9BQy9CLE9BQ0YsQ0FBQyxLQUFBSCxjQUFBLEdBQUF1QixDQUFBLFVBQUF2QixjQUFBLEdBQUFHLENBQUEsT0FDRCxNQUFPLENBQUFTLFFBQVEsQ0FBQ0csR0FBRyxDQUFDLGtCQUFrQixDQUFDLENBQ3pDLENBQUMsQ0FDRFUsT0FBT0EsQ0FBRWQsT0FBTyxDQUFFQyxRQUFRLENBQUcsQ0FBQVosY0FBQSxHQUFBYSxDQUFBLE1BQUFiLGNBQUEsR0FBQUcsQ0FBQSxPQUMzQlMsUUFBUSxDQUFDWSxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUF4QixjQUFBLEdBQUFHLENBQUEsT0FDekIsTUFBTyxDQUFBUyxRQUFRLENBQUNHLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FDbkMsQ0FDRixDQUFDLEVBRUQsUUFBUyxDQUFBVyxPQUFPQSxDQUFDZixPQUFPLENBQUVDLFFBQVEsQ0FBRSxDQUFBWixjQUFBLEdBQUFhLENBQUEsTUFDbEMsS0FBTSxDQUFFYyxHQUFHLENBQUVDLE1BQU8sQ0FBQyxFQUFBNUIsY0FBQSxHQUFBRyxDQUFBLE9BQUdRLE9BQU8sRUFDL0IsS0FBTSxDQUFBa0IsU0FBUyxFQUFBN0IsY0FBQSxHQUFBRyxDQUFBLE9BQUksR0FBRXdCLEdBQUcsQ0FBQ0wsV0FBVyxDQUFDLENBQUUsSUFBR00sTUFBTSxDQUFDTixXQUFXLENBQUMsQ0FBRSxFQUFDLEVBQ2hFLEtBQU0sQ0FBQVEsTUFBTSxFQUFBOUIsY0FBQSxHQUFBRyxDQUFBLE9BQUcsQ0FBQUgsY0FBQSxHQUFBdUIsQ0FBQSxTQUFBZCxNQUFNLENBQUNvQixTQUFTLENBQUMsSUFBQTdCLGNBQUEsR0FBQXVCLENBQUEsU0FBSWQsTUFBTSxDQUFDZ0IsT0FBTyxHQUFBekIsY0FBQSxHQUFBRyxDQUFBLE9BQ2xELE1BQU8sQ0FBQTJCLE1BQU0sQ0FBQ25CLE9BQU8sQ0FBRUMsUUFBUSxDQUFDLENBQ2xDLENBRUEsS0FBTSxDQUFBbUIsR0FBRyxFQUFBL0IsY0FBQSxHQUFBRyxDQUFBLE9BQUdFLElBQUksQ0FBQzJCLFlBQVksQ0FBQ04sT0FBTyxDQUFDLENBQUNPLE1BQU0sQ0FBQyxJQUFJLENBQUUsSUFBTSxDQUFBakMsY0FBQSxHQUFBYSxDQUFBLE1BQUFiLGNBQUEsR0FBQUcsQ0FBQSxjQUFBK0IsT0FBTyxDQUFDQyxHQUFHLENBQUMsaUJBQWlCLENBQUMsQ0FBRCxDQUFDLENBQUMsRUFBQW5DLGNBQUEsR0FBQUcsQ0FBQSxPQUV6RmlDLE1BQU0sQ0FBQ0MsT0FBTyxDQUFHTixHQUFHIn0=